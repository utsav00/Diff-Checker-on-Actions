name: Crowdin Notification Listener

on:
  repository_dispatch:
    types: [create_crowdin_task]

jobs:
  crowdin_webhook_trigger:
    runs-on: ubuntu-latest

    steps:
      - name: Payload
        uses: SpringCare/actions/dist/translations_diff@feature/GT-47-crowdin-webhook-trigger
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          base-branch: ${{ github.head_ref }}
          github_context: ${{ github.custom_payload }}
